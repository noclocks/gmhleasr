% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/entrata_request.R
\name{entrata}
\alias{entrata}
\title{Send a request to the Entrata API}
\usage{
entrata(
  endpoint = NULL,
  method = NULL,
  method_version = "r1",
  method_params = list(),
  config = create_entrata_config(),
  perform = FALSE,
  extract = FALSE,
  cache = TRUE,
  ...
)
}
\arguments{
\item{endpoint}{Character string specifying the Entrata API endpoint to send the request to.
If NULL, the request will be sent to the base API URL.}

\item{method}{Character string specifying the Entrata API method to use in the request.
If NULL, a default method will be determined based on the endpoint.}

\item{method_version}{Character string specifying the version of the API method to use.
Default is "r1".}

\item{method_params}{List of parameters to include in the request body's "method" object.}

\item{config}{An APIConfig object or a list containing the Entrata API configuration.
If not provided, a default configuration will be created using \code{\link[=create_entrata_config]{create_entrata_config()}}.}

\item{perform}{Logical indicating whether to perform the request (TRUE) or just construct
the request object (FALSE).}

\item{extract}{Logical indicating whether to extract the response body (TRUE) or return
the full response object (FALSE).}

\item{cache}{Logical indicating whether to use caching for this request.}

\item{...}{Additional arguments to pass to \code{\link[httr2:req_perform]{httr2::req_perform()}}.}
}
\value{
Depending on the \code{perform} and \code{extract} parameters:
\itemize{
\item If \code{perform} is FALSE: Returns an \link[httr2:request]{httr2::request} object.
\item If \code{perform} is TRUE and \code{extract} is FALSE: Returns an \link[httr2:response]{httr2::response} object.
\item If \code{perform} is TRUE and \code{extract} is TRUE: Returns the extracted response body (usually a list).
}
}
\description{
This function sends an HTTP request to the Entrata API. It handles authentication,
request construction, caching, and error handling. Use this function as a base
for creating specific API calls or for direct interaction with the Entrata API.
}
\examples{
\dontrun{
# Create a configuration object
config <- create_entrata_config(
  username = "your_username",
  password = "your_password",
  base_url = "https://your-subdomain.entrata.com"
)

# Make a simple request to get properties
properties <- entrata(
  endpoint = "properties",
  method = "getProperties",
  config = config,
  perform = TRUE,
  extract = TRUE
)

# Print the properties
print(properties)

# Make a request with parameters to get leases
leases <- entrata(
  endpoint = "leases",
  method = "getLeases",
  method_params = list(propertyId = 12345),
  config = config,
  perform = TRUE,
  extract = TRUE
)

# Print the leases
print(leases)

# Construct a request without performing it
req <- entrata(
  endpoint = "reports",
  method = "getReportList",
  config = config,
  perform = FALSE
)

# Inspect the request
print(req)
}

}
\seealso{
\code{\link[=create_entrata_config]{create_entrata_config()}} for creating an API configuration object.
\code{\link[=validate_entrata_request]{validate_entrata_request()}} for request validation.
\link{APIConfig} for the configuration object structure.
}
